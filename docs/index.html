<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>DEMO</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <header id="js-sticky-header" class="header">
      <div class="contents">
        <p class="header__libname">Stuck.js</p>
        <ul class="navigation">
          <li><a href="#Stuck_js">Stuck.js</a></li>
          <li><a href="#Installation">Installation</a></li>
          <li><a href="#How_to_use">How to use</a></li>
          <li><a href="#Options">Options</a></li>
        </ul>
      </div>
    </header>

    <main>
      <div class="contents columns">
        <div class="columns__main">
          <h1 id="Stuck_js">Stuck.js</h1>
          <section>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
          </section>
          <section>
            <h2 id="Installation">Installation</h2>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <code>npm i -S @Ryonkmr/stuck-js</code>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
          </section>
          <section>
            <h2 id="How_to_use">How to use</h2>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
          </section>
          <section>
            <h2 id="Options">Options</h2>
            <h3 id="Options-marginTop" class="option">
              marginTop
              <span class="option__type">Number</span>
              <span class="option__default">0</span>
            </h3>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>

            <h3 id="Options-wrapper" class="option">
              wrapper
              <span class="option__type">HTMLElement</span>
              <span class="option__default">document.body</span>
            </h3>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>

            <h3 id="Options-placehold" class="option">
              placehold
              <span class="option__type">boolean</span>
              <span class="option__default">true</span>
            </h3>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
            <p>Ipsum laboriosam odio minus sunt officiis. Veniam sed saepe inventore labore ratione adipisci Sed unde sapiente porro accusamus quo Dolorem deserunt veniam ducimus neque velit. Esse saepe deserunt ipsam similique</p>
          </section>
        </div>
        <aside id="js-sidebar" class="columns__sub">
          <section>
            <h2>Author</h2>
            <p>
              Hi, I'm Ryonkmr, a frontend developer in Tokyo.
              Sometimes being an designer or illustrator.
              I love Adobe Photoshop, Illustrator, javascript and
              vim(but I'm not vimmer but viginnerðŸ˜¨).
            </p>
          </section>
          <div class="ad ad--rectangle js-sticky-ad">
            Rectangle
          </div>
          <div id="js-sticky-controller" class="controller" style="z-index: 300;">
            <div id="js-control-inner" class="controller__inner">
              <button class="js-control" type="button" data-target="header" data-method="create">Header create</button>
              <button class="js-control" type="button" data-target="header" data-method="destroy">Header destroy</button>
              <button class="js-control" type="button" data-target="ads" data-method="create">Ads create</button>
              <button class="js-control" type="button" data-target="ads" data-method="destroy">Ads destroy</button>
              <button class="js-control-box" type="button">Change box size</button>
              <button class="js-stack" type="button">Toggle header stacking option</button>
            </div>
          </div>
          <div class="local-navigation">
            <h2>Contents</h2>
            <ul>
              <li><a href="#Stuck_js">Stuck.js</a></li>
              <li><a href="#Installation">Installation</a></li>
              <li><a href="#How_to_use">How to use</a></li>
              <li>
                <a href="#Options">Options</a>
                <ul>
                  <li><a href="#Options-marginTop">marginTop</a></li>
                  <li><a href="#Options-wrapper">wrapper</a></li>
                  <li><a href="#Options-placehold">placehold</a></li>
                </ul>
              </li>
            </ul>
          </div>
          <div id="js-sticky-ad02" class="ad ad--halfpage js-sticky-ad" style="z-index: 200;">
            Sticky Halfpage
          </div>
        </aside>
      </div>
    </main>
    <footer>
      <div class="contents">
        <ul class="side-list">
          <li>
            https://github.com/RyoNkmr/stuck-js
          </li>
        </ul>
        <p class="copyright">
          <small>Copyright 2018- Ryonkmr All Rights Reserved.</small>
        </p>
      </div>
    </footer>
    <script src="./index.js"></script>
    <script>
      const Stuck = StuckJs.Stuck;
      const controller = new Stuck({ selector: '#js-sticky-controller', wrapper: '#js-sidebar', marginTop: 16 });
      let headerStackingContext = true;
      const options = {
        header: init => (
          init
          ? [{ selector: '#js-sticky-header', marginTop: 0 }, {}, headerStackingContext]
          : [{ selector: '#js-sticky-header', marginTop: 0 }, headerStackingContext]
        ),
        ads: () => [{ selector: '.js-sticky-ad', wrapper: '#js-sidebar', marginTop: 16 }],
      };
      const instances = {
        header: new Stuck(...options.header(true)),
        ads: new Stuck(...options.ads()),
      };
      document.querySelectorAll('.js-control').forEach(el => {
        const data = el.dataset;
        const instance = instances[data.target];
        const method = instance[data.method].bind(instance);
        el.addEventListener('click', () => {
          const params = data.method === 'create' ? options[data.target]() : [];
          method(...params);
          console.log(data.method + ' ' + data.target + ' instance');
        });
      });
      const box = document.getElementById('js-control-inner');
      const largeClassName = 'controller__inner--larger';
      document.querySelector('.js-control-box').addEventListener('click', () => {
        box.classList.toggle(largeClassName);
        console.log('boxSize: ' + (box.classList.contains(largeClassName) ? 'large' : 'normal'));
      });
      document.querySelector('.js-stack').addEventListener('click', () => {
        headerStackingContext = !headerStackingContext;
        console.log('headerStackingContext: ' + headerStackingContext);
      });
    </script>
  </body>
</html>
